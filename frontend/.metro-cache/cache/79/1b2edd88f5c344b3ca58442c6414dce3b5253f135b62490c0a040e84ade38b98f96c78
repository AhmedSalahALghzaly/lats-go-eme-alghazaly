{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":221},"end":{"line":6,"column":45,"index":266}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../../store/appStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":267},"end":{"line":7,"column":51,"index":318}}],"key":"n0CCSj0uILqMB2ZG0ZFwUPWKa9s=","exportNames":["*"],"imports":1}},{"name":"../queries","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":319},"end":{"line":13,"column":20,"index":448}}],"key":"vBqSlLX3RDp+sEQjec929LcVMrw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  /**\n   * useShoppingHubData - Main data fetching and state management hook\n   * REFACTORED: Uses React Query for data fetching with caching and optimistic updates\n   * Handles loading data for both customer and admin views\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"useShoppingHubData\", {\n    enumerable: true,\n    get: function () {\n      return useShoppingHubData;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _storeAppStore = require(_dependencyMap[1], \"../../store/appStore\");\n  var _queries = require(_dependencyMap[2], \"../queries\");\n  /**\n   * Main hook for shopping hub data - uses React Query for all data fetching\n   */\n  const useShoppingHubData = ({\n    customerId,\n    customerData,\n    isAdminView\n  }) => {\n    _s();\n    const user = (0, _storeAppStore.useAppStore)(state => state.user);\n    const setCartItems = (0, _storeAppStore.useAppStore)(state => state.setCartItems);\n\n    // Determine target user\n    const targetUserId = customerId || user?.id;\n    const isOwnProfile = !isAdminView && !customerId;\n\n    // Use React Query hooks for data fetching\n    const userDataQuery = (0, _queries.useShoppingHubQuery)(!isAdminView && isOwnProfile);\n    const customerDataQuery = (0, _queries.useCustomerShoppingDataQuery)(customerId, isAdminView && !!customerId);\n\n    // Derive state from queries\n    const loading = (0, _react.useMemo)(() => {\n      if (isAdminView && customerId) {\n        return customerDataQuery.isLoading;\n      }\n      return userDataQuery.isLoading;\n    }, [isAdminView, customerId, customerDataQuery.isLoading, userDataQuery.isLoading]);\n    const refreshing = (0, _react.useMemo)(() => {\n      if (isAdminView && customerId) {\n        return customerDataQuery.isRefetching;\n      }\n      return userDataQuery.isRefetching;\n    }, [isAdminView, customerId, customerDataQuery.isRefetching, userDataQuery.isRefetching]);\n    const favorites = (0, _react.useMemo)(() => {\n      if (isAdminView && customerId) {\n        return customerDataQuery.favorites;\n      }\n      return userDataQuery.favorites;\n    }, [isAdminView, customerId, customerDataQuery.favorites, userDataQuery.favorites]);\n    const cartItems = (0, _react.useMemo)(() => {\n      if (isAdminView && customerId) {\n        return customerDataQuery.cart;\n      }\n      return userDataQuery.cartItems;\n    }, [isAdminView, customerId, customerDataQuery.cart, userDataQuery.cartItems]);\n    const orders = (0, _react.useMemo)(() => {\n      if (isAdminView && customerId) {\n        return customerDataQuery.orders;\n      }\n      return userDataQuery.orders;\n    }, [isAdminView, customerId, customerDataQuery.orders, userDataQuery.orders]);\n    const profileData = (0, _react.useMemo)(() => {\n      if (isAdminView && customerId) {\n        return customerData;\n      }\n      return userDataQuery.profileData;\n    }, [isAdminView, customerId, customerData, userDataQuery.profileData]);\n\n    // Refresh function\n    const onRefresh = (0, _react.useCallback)(() => {\n      if (isAdminView && customerId) {\n        customerDataQuery.refetch();\n      } else {\n        userDataQuery.refetch();\n      }\n    }, [isAdminView, customerId, customerDataQuery, userDataQuery]);\n\n    // Load data function (for backward compatibility)\n    const loadData = (0, _react.useCallback)(() => {\n      onRefresh();\n    }, [onRefresh]);\n\n    // Update functions (for local state management if needed)\n    const setFavorites = (0, _react.useCallback)(newFavorites => {\n      // This is now handled by React Query\n      // Manual updates will be reflected after refetch\n    }, []);\n    const setLocalCartItems = (0, _react.useCallback)(newCartItems => {\n      setCartItems(newCartItems);\n    }, [setCartItems]);\n    const setOrders = (0, _react.useCallback)(newOrders => {\n      // This is now handled by React Query\n    }, []);\n    return {\n      loading,\n      refreshing,\n      favorites,\n      cartItems,\n      orders,\n      profileData,\n      targetUserId,\n      isOwnProfile,\n      loadData,\n      onRefresh,\n      setFavorites,\n      setLocalCartItems,\n      setOrders\n    };\n  };\n  _s(useShoppingHubData, \"gZP2pRRq2eSRkYoC50p0uq6ajD0=\", false, function () {\n    return [_storeAppStore.useAppStore, _storeAppStore.useAppStore, _queries.useShoppingHubQuery, _queries.useCustomerShoppingDataQuery];\n  });\n  var _default = useShoppingHubData;\n});","lineCount":131,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,0,5,0],[10,2,1,0,"Object"],[10,8,1,0],[10,9,1,0,"defineProperty"],[10,23,1,0],[10,24,1,0,"exports"],[10,31,1,0],[11,4,1,0,"value"],[11,9,1,0],[12,2,1,0],[13,2,140,0,"Object"],[13,8,140,0],[13,9,140,0,"defineProperty"],[13,23,140,0],[13,24,140,0,"exports"],[13,31,140,0],[14,4,140,0,"enumerable"],[14,14,140,0],[15,4,140,0,"get"],[15,7,140,0],[15,18,140,0,"get"],[15,19,140,0],[16,6,140,0],[16,13,140,0,"_default"],[16,21,140,0],[17,4,140,0],[18,2,140,0],[19,2,33,0,"Object"],[19,8,33,0],[19,9,33,0,"defineProperty"],[19,23,33,0],[19,24,33,0,"exports"],[19,31,33,0],[20,4,33,0,"enumerable"],[20,14,33,0],[21,4,33,0,"get"],[21,7,33,0],[21,18,33,0,"get"],[21,19,33,0],[22,6,33,0],[22,13,33,0,"useShoppingHubData"],[22,31,33,0],[23,4,33,0],[24,2,33,0],[25,2,6,0],[25,6,6,0,"_react"],[25,12,6,0],[25,15,6,0,"require"],[25,22,6,0],[25,23,6,0,"_dependencyMap"],[25,37,6,0],[26,2,7,0],[26,6,7,0,"_storeAppStore"],[26,20,7,0],[26,23,7,0,"require"],[26,30,7,0],[26,31,7,0,"_dependencyMap"],[26,45,7,0],[27,2,8,0],[27,6,8,0,"_queries"],[27,14,8,0],[27,17,8,0,"require"],[27,24,8,0],[27,25,8,0,"_dependencyMap"],[27,39,8,0],[28,2,30,0],[29,0,31,0],[30,0,32,0],[31,2,33,7],[31,8,33,13,"useShoppingHubData"],[31,26,33,31],[31,29,33,34,"useShoppingHubData"],[31,30,33,35],[32,4,34,2,"customerId"],[32,14,34,12],[33,4,35,2,"customerData"],[33,16,35,14],[34,4,36,2,"isAdminView"],[35,2,37,25],[35,3,37,26],[35,8,37,31],[36,4,37,31,"_s"],[36,6,37,31],[37,4,38,2],[37,10,38,8,"user"],[37,14,38,12],[37,17,38,15],[37,21,38,15,"useAppStore"],[37,35,38,26],[37,36,38,26,"useAppStore"],[37,47,38,26],[37,49,38,28,"state"],[37,54,38,33],[37,58,38,38,"state"],[37,63,38,43],[37,64,38,44,"user"],[37,68,38,48],[37,69,38,49],[38,4,39,2],[38,10,39,8,"setCartItems"],[38,22,39,20],[38,25,39,23],[38,29,39,23,"useAppStore"],[38,43,39,34],[38,44,39,34,"useAppStore"],[38,55,39,34],[38,57,39,36,"state"],[38,62,39,41],[38,66,39,46,"state"],[38,71,39,51],[38,72,39,52,"setCartItems"],[38,84,39,64],[38,85,39,65],[40,4,41,2],[41,4,42,2],[41,10,42,8,"targetUserId"],[41,22,42,20],[41,25,42,23,"customerId"],[41,35,42,33],[41,39,42,37,"user"],[41,43,42,41],[41,45,42,43,"id"],[41,47,42,45],[42,4,43,2],[42,10,43,8,"isOwnProfile"],[42,22,43,20],[42,25,43,23],[42,26,43,24,"isAdminView"],[42,37,43,35],[42,41,43,39],[42,42,43,40,"customerId"],[42,52,43,50],[44,4,45,2],[45,4,46,2],[45,10,46,8,"userDataQuery"],[45,23,46,21],[45,26,46,24],[45,30,46,24,"useShoppingHubQuery"],[45,38,46,43],[45,39,46,43,"useShoppingHubQuery"],[45,58,46,43],[45,60,46,44],[45,61,46,45,"isAdminView"],[45,72,46,56],[45,76,46,60,"isOwnProfile"],[45,88,46,72],[45,89,46,73],[46,4,47,2],[46,10,47,8,"customerDataQuery"],[46,27,47,25],[46,30,47,28],[46,34,47,28,"useCustomerShoppingDataQuery"],[46,42,47,56],[46,43,47,56,"useCustomerShoppingDataQuery"],[46,71,47,56],[46,73,48,4,"customerId"],[46,83,48,14],[46,85,49,4,"isAdminView"],[46,96,49,15],[46,100,49,19],[46,101,49,20],[46,102,49,21,"customerId"],[46,112,50,2],[46,113,50,3],[48,4,52,2],[49,4,53,2],[49,10,53,8,"loading"],[49,17,53,15],[49,20,53,18],[49,24,53,18,"useMemo"],[49,30,53,25],[49,31,53,25,"useMemo"],[49,38,53,25],[49,40,53,26],[49,46,53,32],[50,6,54,4],[50,10,54,8,"isAdminView"],[50,21,54,19],[50,25,54,23,"customerId"],[50,35,54,33],[50,37,54,35],[51,8,55,6],[51,15,55,13,"customerDataQuery"],[51,32,55,30],[51,33,55,31,"isLoading"],[51,42,55,40],[52,6,56,4],[53,6,57,4],[53,13,57,11,"userDataQuery"],[53,26,57,24],[53,27,57,25,"isLoading"],[53,36,57,34],[54,4,58,2],[54,5,58,3],[54,7,58,5],[54,8,58,6,"isAdminView"],[54,19,58,17],[54,21,58,19,"customerId"],[54,31,58,29],[54,33,58,31,"customerDataQuery"],[54,50,58,48],[54,51,58,49,"isLoading"],[54,60,58,58],[54,62,58,60,"userDataQuery"],[54,75,58,73],[54,76,58,74,"isLoading"],[54,85,58,83],[54,86,58,84],[54,87,58,85],[55,4,60,2],[55,10,60,8,"refreshing"],[55,20,60,18],[55,23,60,21],[55,27,60,21,"useMemo"],[55,33,60,28],[55,34,60,28,"useMemo"],[55,41,60,28],[55,43,60,29],[55,49,60,35],[56,6,61,4],[56,10,61,8,"isAdminView"],[56,21,61,19],[56,25,61,23,"customerId"],[56,35,61,33],[56,37,61,35],[57,8,62,6],[57,15,62,13,"customerDataQuery"],[57,32,62,30],[57,33,62,31,"isRefetching"],[57,45,62,43],[58,6,63,4],[59,6,64,4],[59,13,64,11,"userDataQuery"],[59,26,64,24],[59,27,64,25,"isRefetching"],[59,39,64,37],[60,4,65,2],[60,5,65,3],[60,7,65,5],[60,8,65,6,"isAdminView"],[60,19,65,17],[60,21,65,19,"customerId"],[60,31,65,29],[60,33,65,31,"customerDataQuery"],[60,50,65,48],[60,51,65,49,"isRefetching"],[60,63,65,61],[60,65,65,63,"userDataQuery"],[60,78,65,76],[60,79,65,77,"isRefetching"],[60,91,65,89],[60,92,65,90],[60,93,65,91],[61,4,67,2],[61,10,67,8,"favorites"],[61,19,67,17],[61,22,67,20],[61,26,67,20,"useMemo"],[61,32,67,27],[61,33,67,27,"useMemo"],[61,40,67,27],[61,42,67,28],[61,48,67,34],[62,6,68,4],[62,10,68,8,"isAdminView"],[62,21,68,19],[62,25,68,23,"customerId"],[62,35,68,33],[62,37,68,35],[63,8,69,6],[63,15,69,13,"customerDataQuery"],[63,32,69,30],[63,33,69,31,"favorites"],[63,42,69,40],[64,6,70,4],[65,6,71,4],[65,13,71,11,"userDataQuery"],[65,26,71,24],[65,27,71,25,"favorites"],[65,36,71,34],[66,4,72,2],[66,5,72,3],[66,7,72,5],[66,8,72,6,"isAdminView"],[66,19,72,17],[66,21,72,19,"customerId"],[66,31,72,29],[66,33,72,31,"customerDataQuery"],[66,50,72,48],[66,51,72,49,"favorites"],[66,60,72,58],[66,62,72,60,"userDataQuery"],[66,75,72,73],[66,76,72,74,"favorites"],[66,85,72,83],[66,86,72,84],[66,87,72,85],[67,4,74,2],[67,10,74,8,"cartItems"],[67,19,74,17],[67,22,74,20],[67,26,74,20,"useMemo"],[67,32,74,27],[67,33,74,27,"useMemo"],[67,40,74,27],[67,42,74,28],[67,48,74,34],[68,6,75,4],[68,10,75,8,"isAdminView"],[68,21,75,19],[68,25,75,23,"customerId"],[68,35,75,33],[68,37,75,35],[69,8,76,6],[69,15,76,13,"customerDataQuery"],[69,32,76,30],[69,33,76,31,"cart"],[69,37,76,35],[70,6,77,4],[71,6,78,4],[71,13,78,11,"userDataQuery"],[71,26,78,24],[71,27,78,25,"cartItems"],[71,36,78,34],[72,4,79,2],[72,5,79,3],[72,7,79,5],[72,8,79,6,"isAdminView"],[72,19,79,17],[72,21,79,19,"customerId"],[72,31,79,29],[72,33,79,31,"customerDataQuery"],[72,50,79,48],[72,51,79,49,"cart"],[72,55,79,53],[72,57,79,55,"userDataQuery"],[72,70,79,68],[72,71,79,69,"cartItems"],[72,80,79,78],[72,81,79,79],[72,82,79,80],[73,4,81,2],[73,10,81,8,"orders"],[73,16,81,14],[73,19,81,17],[73,23,81,17,"useMemo"],[73,29,81,24],[73,30,81,24,"useMemo"],[73,37,81,24],[73,39,81,25],[73,45,81,31],[74,6,82,4],[74,10,82,8,"isAdminView"],[74,21,82,19],[74,25,82,23,"customerId"],[74,35,82,33],[74,37,82,35],[75,8,83,6],[75,15,83,13,"customerDataQuery"],[75,32,83,30],[75,33,83,31,"orders"],[75,39,83,37],[76,6,84,4],[77,6,85,4],[77,13,85,11,"userDataQuery"],[77,26,85,24],[77,27,85,25,"orders"],[77,33,85,31],[78,4,86,2],[78,5,86,3],[78,7,86,5],[78,8,86,6,"isAdminView"],[78,19,86,17],[78,21,86,19,"customerId"],[78,31,86,29],[78,33,86,31,"customerDataQuery"],[78,50,86,48],[78,51,86,49,"orders"],[78,57,86,55],[78,59,86,57,"userDataQuery"],[78,72,86,70],[78,73,86,71,"orders"],[78,79,86,77],[78,80,86,78],[78,81,86,79],[79,4,88,2],[79,10,88,8,"profileData"],[79,21,88,19],[79,24,88,22],[79,28,88,22,"useMemo"],[79,34,88,29],[79,35,88,29,"useMemo"],[79,42,88,29],[79,44,88,30],[79,50,88,36],[80,6,89,4],[80,10,89,8,"isAdminView"],[80,21,89,19],[80,25,89,23,"customerId"],[80,35,89,33],[80,37,89,35],[81,8,90,6],[81,15,90,13,"customerData"],[81,27,90,25],[82,6,91,4],[83,6,92,4],[83,13,92,11,"userDataQuery"],[83,26,92,24],[83,27,92,25,"profileData"],[83,38,92,36],[84,4,93,2],[84,5,93,3],[84,7,93,5],[84,8,93,6,"isAdminView"],[84,19,93,17],[84,21,93,19,"customerId"],[84,31,93,29],[84,33,93,31,"customerData"],[84,45,93,43],[84,47,93,45,"userDataQuery"],[84,60,93,58],[84,61,93,59,"profileData"],[84,72,93,70],[84,73,93,71],[84,74,93,72],[86,4,95,2],[87,4,96,2],[87,10,96,8,"onRefresh"],[87,19,96,17],[87,22,96,20],[87,26,96,20,"useCallback"],[87,32,96,31],[87,33,96,31,"useCallback"],[87,44,96,31],[87,46,96,32],[87,52,96,38],[88,6,97,4],[88,10,97,8,"isAdminView"],[88,21,97,19],[88,25,97,23,"customerId"],[88,35,97,33],[88,37,97,35],[89,8,98,6,"customerDataQuery"],[89,25,98,23],[89,26,98,24,"refetch"],[89,33,98,31],[89,34,98,32],[89,35,98,33],[90,6,99,4],[90,7,99,5],[90,13,99,11],[91,8,100,6,"userDataQuery"],[91,21,100,19],[91,22,100,20,"refetch"],[91,29,100,27],[91,30,100,28],[91,31,100,29],[92,6,101,4],[93,4,102,2],[93,5,102,3],[93,7,102,5],[93,8,102,6,"isAdminView"],[93,19,102,17],[93,21,102,19,"customerId"],[93,31,102,29],[93,33,102,31,"customerDataQuery"],[93,50,102,48],[93,52,102,50,"userDataQuery"],[93,65,102,63],[93,66,102,64],[93,67,102,65],[95,4,104,2],[96,4,105,2],[96,10,105,8,"loadData"],[96,18,105,16],[96,21,105,19],[96,25,105,19,"useCallback"],[96,31,105,30],[96,32,105,30,"useCallback"],[96,43,105,30],[96,45,105,31],[96,51,105,37],[97,6,106,4,"onRefresh"],[97,15,106,13],[97,16,106,14],[97,17,106,15],[98,4,107,2],[98,5,107,3],[98,7,107,5],[98,8,107,6,"onRefresh"],[98,17,107,15],[98,18,107,16],[98,19,107,17],[100,4,109,2],[101,4,110,2],[101,10,110,8,"setFavorites"],[101,22,110,20],[101,25,110,23],[101,29,110,23,"useCallback"],[101,35,110,34],[101,36,110,34,"useCallback"],[101,47,110,34],[101,49,110,36,"newFavorites"],[101,61,110,55],[101,65,110,60],[102,6,111,4],[103,6,112,4],[104,4,112,4],[104,5,113,3],[104,7,113,5],[104,9,113,7],[104,10,113,8],[105,4,115,2],[105,10,115,8,"setLocalCartItems"],[105,27,115,25],[105,30,115,28],[105,34,115,28,"useCallback"],[105,40,115,39],[105,41,115,39,"useCallback"],[105,52,115,39],[105,54,115,41,"newCartItems"],[105,66,115,60],[105,70,115,65],[106,6,116,4,"setCartItems"],[106,18,116,16],[106,19,116,17,"newCartItems"],[106,31,116,29],[106,32,116,30],[107,4,117,2],[107,5,117,3],[107,7,117,5],[107,8,117,6,"setCartItems"],[107,20,117,18],[107,21,117,19],[107,22,117,20],[108,4,119,2],[108,10,119,8,"setOrders"],[108,19,119,17],[108,22,119,20],[108,26,119,20,"useCallback"],[108,32,119,31],[108,33,119,31,"useCallback"],[108,44,119,31],[108,46,119,33,"newOrders"],[108,55,119,49],[108,59,119,54],[109,6,120,4],[110,4,120,4],[110,5,121,3],[110,7,121,5],[110,9,121,7],[110,10,121,8],[111,4,123,2],[111,11,123,9],[112,6,124,4,"loading"],[112,13,124,11],[113,6,125,4,"refreshing"],[113,16,125,14],[114,6,126,4,"favorites"],[114,15,126,13],[115,6,127,4,"cartItems"],[115,15,127,13],[116,6,128,4,"orders"],[116,12,128,10],[117,6,129,4,"profileData"],[117,17,129,15],[118,6,130,4,"targetUserId"],[118,18,130,16],[119,6,131,4,"isOwnProfile"],[119,18,131,16],[120,6,132,4,"loadData"],[120,14,132,12],[121,6,133,4,"onRefresh"],[121,15,133,13],[122,6,134,4,"setFavorites"],[122,18,134,16],[123,6,135,4,"setLocalCartItems"],[123,23,135,21],[124,6,136,4,"setOrders"],[125,4,137,2],[125,5,137,3],[126,2,138,0],[126,3,138,1],[127,2,138,2,"_s"],[127,4,138,2],[127,5,33,13,"useShoppingHubData"],[127,23,33,31],[128,4,33,31],[128,12,38,15,"useAppStore"],[128,26,38,26],[128,27,38,26,"useAppStore"],[128,38,38,26],[128,40,39,23,"useAppStore"],[128,54,39,34],[128,55,39,34,"useAppStore"],[128,66,39,34],[128,68,46,24,"useShoppingHubQuery"],[128,76,46,43],[128,77,46,43,"useShoppingHubQuery"],[128,96,46,43],[128,98,47,28,"useCustomerShoppingDataQuery"],[128,106,47,56],[128,107,47,56,"useCustomerShoppingDataQuery"],[128,135,47,56],[129,2,47,56],[130,2,140,0],[130,6,140,0,"_default"],[130,14,140,0],[130,17,140,15,"useShoppingHubData"],[130,35,140,33],[131,0,140,34],[131,3]],"functionMap":{"names":["<global>","useShoppingHubData","useAppStore$argument_0","useMemo$argument_0","onRefresh","loadData","setFavorites","setLocalCartItems","setOrders"],"mappings":"AAA;kCCgC;2BCK,qBD;mCCC,6BD;0BEc;GFK;6BEE;GFK;4BEE;GFK;4BEE;GFK;yBEE;GFK;8BEE;GFK;gCGG;GHM;+BIG;GJE;mCKG;GLG;wCME;GNE;gCOE;GPE;CDiB"},"hasCjsExports":false},"type":"js/module"}]}