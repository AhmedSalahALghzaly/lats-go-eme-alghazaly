# Al-Ghazaly Auto Parts - ArgoCD Image Updater Configuration
# Automatically updates image tags when new versions are pushed

apiVersion: v1
kind: ConfigMap
metadata:
  name: argocd-image-updater-config
  namespace: argocd
data:
  # Registry configurations
  registries.conf: |
    registries:
      - name: GitHub Container Registry
        api_url: https://ghcr.io
        prefix: ghcr.io
        credentials: pullsecret:argocd/ghcr-secret
        default: true

  # Log level
  log.level: info

---
# Image Updater annotations for applications
# Add these annotations to your Application manifests:
#
# annotations:
#   argocd-image-updater.argoproj.io/image-list: backend=ghcr.io/your-org/alghazaly/backend
#   argocd-image-updater.argoproj.io/backend.update-strategy: semver
#   argocd-image-updater.argoproj.io/backend.allow-tags: regexp:^v[0-9]+\.[0-9]+\.[0-9]+$
#   argocd-image-updater.argoproj.io/write-back-method: git
